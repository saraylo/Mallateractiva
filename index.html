<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Malla Interactiva</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1> Malla Interactiva</h1>
  <div id="malla" class="contenedor-malla"></div>

  <script>
    const malla = document.getElementById("malla");

    const semestres = [
      { nombre: "Semestre I", materias: [
        "Fundamentos de Contabilidad",
        "Fundamentos de la Administraci贸n",
        "Matem谩tica Fundamental",
        "Fundamentos de Econom铆a",
        "Fundamentos de Mercadeo",
        "Introducci贸n a los Negocios Internacionales"]
      },
      { nombre: "Semestre II", materias: [
        "Probabilidad y Estad铆stica",
        "Microeconom铆a",
        "C谩lculo I",
        "Acuerdos Comerciales",
        "Introducci贸n a las Finanzas"]
      },
      { nombre: "Semestre III", materias: [
        "Ingl茅s I",
        "Estad铆stica Aplicada",
        "Macroeconom铆a",
        "Log铆stica y Distribuci贸n F铆sica Internacional",
        "Matem谩tica Financiera"]
      },
      { nombre: "Semestre IV", materias: [
        "Ingl茅s II",
        "Instrumentos de Renta",
        "Gesti贸n de Importaciones y Exportaciones",
        "Contrataci贸n Internacional",
        "Administraci贸n Financiera",
        "Creaci贸n Empresarial"]
      },
      { nombre: "Semestre V", materias: [
        "Ingl茅s III",
        "Responsabilidad Social y Corporativa",
        "R茅gimen Aduanero y Cambiario",
        "Costos",
        "Finanzas Corporativas",
        "Mercados de Capitales"]
      },
      { nombre: "Semestre VI", materias: [
        "Ingl茅s IV",
        "Razonamiento Cuantitativo",
        "Constituci贸n Pol铆tica",
        "Presupuesto",
        "Gerencia de Negocios Internacionales"]
      },
      { nombre: "Semestre VII", materias: [
        "Electiva I",
        "Modelos de Desarrollo Econ贸mico",
        "Formulaci贸n y Evaluaci贸n de Proyectos",
        "Valoraci贸n de Empresas",
        "Ingl茅s V"]
      },
      { nombre: "Semestre VIII", materias: [
        "Electiva II",
        "Gerencia Estrat茅gica",
        "Gerencia de Proyectos",
        "Trabajo de Grado I"]
      },
      { nombre: "Semestre IX", materias: [
        "Electiva III",
        "Pr谩ctica Empresarial",
        "Trabajo de Grado II"]
      }
    ];

    let aprobadas = [];

    function crearMalla() {
      semestres.forEach((sem, index) => {
        const contenedor = document.createElement("div");
        contenedor.className = "semestre";

        const titulo = document.createElement("h2");
        titulo.textContent = sem.nombre;
        contenedor.appendChild(titulo);

        sem.materias.forEach(materia => {
          const card = document.createElement("div");
          card.className = index === 0 ? "materia" : "materia bloqueada";
          card.dataset.semestre = index;
          card.dataset.nombre = materia;

          const nombre = document.createElement("p");
          nombre.textContent = materia;
          card.appendChild(nombre);

          const boton = document.createElement("button");
          boton.textContent = "Aprobar";
          boton.onclick = () => aprobarMateria(card, boton);
          card.appendChild(boton);

          contenedor.appendChild(card);
        });

        malla.appendChild(contenedor);
      });
    }

    function aprobarMateria(card, boton) {
      boton.disabled = true;
      card.classList.add("aprobada");
      aprobadas.push(card.dataset.nombre);

      const semestre = parseInt(card.dataset.semestre);
      const materiasSem = document.querySelectorAll(`[data-semestre='${semestre}']`);
      const aprobadasSem = Array.from(materiasSem).filter(m => m.classList.contains("aprobada"));

      if (aprobadasSem.length === materiasSem.length) {
        desbloquearSemestre(semestre + 1);
      }
    }

    function desbloquearSemestre(index) {
      const materias = document.querySelectorAll(`[data-semestre='${index}']`);
      materias.forEach(m => m.classList.remove("bloqueada"));
    }

    crearMalla();
  </script>
</body>
</html>
